<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>source package &mdash; EmbEval 18 October 2021 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="test package" href="test.html" />
    <link rel="prev" title="EmbEval Modules Documentation" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> EmbEval
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">EmbEval Modules Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">source package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.cnn_embeddings">source.cnn_embeddings module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#source-emb-entropy-module">source.emb_entropy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.emb_information">source.emb_information module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.embedding">source.embedding module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.process_embeddings">source.process_embeddings module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.process_vg">source.process_vg module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.process_wiki">source.process_wiki module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.run_analysis">source.run_analysis module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.run_experiments">source.run_experiments module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.run_infogain_analysis">source.run_infogain_analysis module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.run_infogain_experiments">source.run_infogain_experiments module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.task_eval">source.task_eval module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.text_process">source.text_process module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.train_word2vecf">source.train_word2vecf module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.unsupervised_metrics">source.unsupervised_metrics module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.utils">source.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.vecs2nps">source.vecs2nps module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.visualise">source.visualise module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-source.visutils">source.visutils module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="test.html">test package</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EmbEval</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">EmbEval Modules Documentation</a> &raquo;</li>
      <li>source package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/source.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="source-package">
<h1>source package<a class="headerlink" href="#source-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-source.cnn_embeddings">
<span id="source-cnn-embeddings-module"></span><h2>source.cnn_embeddings module<a class="headerlink" href="#module-source.cnn_embeddings" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="source.cnn_embeddings.create_index_from_fnames">
<code class="sig-prename descclassname">source.cnn_embeddings.</code><code class="sig-name descname">create_index_from_fnames</code><span class="sig-paren">(</span><em class="sig-param">image_dir</em>, <em class="sig-param">savepath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/cnn_embeddings.html#create_index_from_fnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.cnn_embeddings.create_index_from_fnames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.cnn_embeddings.get_cnn">
<code class="sig-prename descclassname">source.cnn_embeddings.</code><code class="sig-name descname">get_cnn</code><span class="sig-paren">(</span><em class="sig-param">image_dir</em>, <em class="sig-param">word_index_file</em>, <em class="sig-param">savedir=None</em>, <em class="sig-param">cnn_model='resnet18'</em>, <em class="sig-param">agg_maxnum=10</em>, <em class="sig-param">gpu=False</em>, <em class="sig-param">filename_prefix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/cnn_embeddings.html#get_cnn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.cnn_embeddings.get_cnn" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract CNN representations for images in a directory and saves it into a dictionary file.</p>
</dd></dl>

</div>
<div class="section" id="source-emb-entropy-module">
<h2>source.emb_entropy module<a class="headerlink" href="#source-emb-entropy-module" title="Permalink to this headline">¶</a></h2>
<p>Aanalytical vs estimated value is illustrated for normal random variables.</p>
<dl class="function">
<dt id="source.emb_entropy.benchmark">
<code class="sig-prename descclassname">source.emb_entropy.</code><code class="sig-name descname">benchmark</code><span class="sig-paren">(</span><em class="sig-param">dim</em>, <em class="sig-param">round_num</em>, <em class="sig-param">num_of_samples=10000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/emb_entropy.html#benchmark"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.emb_entropy.benchmark" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.emb_entropy.multivariate_normal">
<code class="sig-prename descclassname">source.emb_entropy.</code><code class="sig-name descname">multivariate_normal</code><span class="sig-paren">(</span><em class="sig-param">mean</em>, <em class="sig-param">cov</em>, <em class="sig-param">size=None</em>, <em class="sig-param">check_valid='warn'</em>, <em class="sig-param">tol=1e-8</em><span class="sig-paren">)</span><a class="headerlink" href="#source.emb_entropy.multivariate_normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw random samples from a multivariate normal distribution.</p>
<p>The multivariate normal, multinormal or Gaussian distribution is a
generalization of the one-dimensional normal distribution to higher
dimensions.  Such a distribution is specified by its mean and
covariance matrix.  These parameters are analogous to the mean
(average or “center”) and variance (standard deviation, or “width,”
squared) of the one-dimensional normal distribution.</p>
<dl class="simple">
<dt>mean<span class="classifier">1-D array_like, of length N</span></dt><dd><p>Mean of the N-dimensional distribution.</p>
</dd>
<dt>cov<span class="classifier">2-D array_like, of shape (N, N)</span></dt><dd><p>Covariance matrix of the distribution. It must be symmetric and
positive-semidefinite for proper sampling.</p>
</dd>
<dt>size<span class="classifier">int or tuple of ints, optional</span></dt><dd><p>Given a shape of, for example, <code class="docutils literal notranslate"><span class="pre">(m,n,k)</span></code>, <code class="docutils literal notranslate"><span class="pre">m*n*k</span></code> samples are
generated, and packed in an <cite>m</cite>-by-<cite>n</cite>-by-<cite>k</cite> arrangement.  Because
each sample is <cite>N</cite>-dimensional, the output shape is <code class="docutils literal notranslate"><span class="pre">(m,n,k,N)</span></code>.
If no shape is specified, a single (<cite>N</cite>-D) sample is returned.</p>
</dd>
<dt>check_valid<span class="classifier">{ ‘warn’, ‘raise’, ‘ignore’ }, optional</span></dt><dd><p>Behavior when the covariance matrix is not positive semidefinite.</p>
</dd>
<dt>tol<span class="classifier">float, optional</span></dt><dd><p>Tolerance when checking the singular values in covariance matrix.
cov is cast to double before the check.</p>
</dd>
</dl>
<dl>
<dt>out<span class="classifier">ndarray</span></dt><dd><p>The drawn samples, of shape <em>size</em>, if that was provided.  If not,
the shape is <code class="docutils literal notranslate"><span class="pre">(N,)</span></code>.</p>
<p>In other words, each entry <code class="docutils literal notranslate"><span class="pre">out[i,j,...,:]</span></code> is an N-dimensional
value drawn from the distribution.</p>
</dd>
</dl>
<p>The mean is a coordinate in N-dimensional space, which represents the
location where samples are most likely to be generated.  This is
analogous to the peak of the bell curve for the one-dimensional or
univariate normal distribution.</p>
<p>Covariance indicates the level to which two variables vary together.
From the multivariate normal distribution, we draw N-dimensional
samples, <span class="math notranslate nohighlight">\(X = [x_1, x_2, ... x_N]\)</span>.  The covariance matrix
element <span class="math notranslate nohighlight">\(C_{ij}\)</span> is the covariance of <span class="math notranslate nohighlight">\(x_i\)</span> and <span class="math notranslate nohighlight">\(x_j\)</span>.
The element <span class="math notranslate nohighlight">\(C_{ii}\)</span> is the variance of <span class="math notranslate nohighlight">\(x_i\)</span> (i.e. its
“spread”).</p>
<p>Instead of specifying the full covariance matrix, popular
approximations include:</p>
<blockquote>
<div><ul class="simple">
<li><p>Spherical covariance (<cite>cov</cite> is a multiple of the identity matrix)</p></li>
<li><p>Diagonal covariance (<cite>cov</cite> has non-negative elements, and only on
the diagonal)</p></li>
</ul>
</div></blockquote>
<p>This geometrical property can be seen in two dimensions by plotting
generated data-points:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mean</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">]]</span>  <span class="c1"># diagonal covariance</span>
</pre></div>
</div>
<p>Diagonal covariance means that points are oriented along x or y-axis:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multivariate_normal</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that the covariance matrix must be positive semidefinite (a.k.a.
nonnegative-definite). Otherwise, the behavior of this method is
undefined and backwards compatibility is not guaranteed.</p>
<dl class="footnote brackets">
<dt class="label" id="id1"><span class="brackets">1</span></dt>
<dd><p>Papoulis, A., “Probability, Random Variables, and Stochastic
Processes,” 3rd ed., New York: McGraw-Hill, 1991.</p>
</dd>
<dt class="label" id="id2"><span class="brackets">2</span></dt>
<dd><p>Duda, R. O., Hart, P. E., and Stork, D. G., “Pattern
Classification,” 2nd ed., New York: Wiley, 2001.</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mean</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multivariate_normal</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(3, 3, 2)</span>
</pre></div>
</div>
<p>The following is probably true, given that 0.6 is roughly twice the
standard deviation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,:]</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.6</span><span class="p">)</span>
<span class="go">[True, True] # random</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="source.emb_entropy.rand">
<code class="sig-prename descclassname">source.emb_entropy.</code><code class="sig-name descname">rand</code><span class="sig-paren">(</span><em class="sig-param">d0</em>, <em class="sig-param">d1</em>, <em class="sig-param">...</em>, <em class="sig-param">dn</em><span class="sig-paren">)</span><a class="headerlink" href="#source.emb_entropy.rand" title="Permalink to this definition">¶</a></dt>
<dd><p>Random values in a given shape.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a convenience function for users porting code from Matlab,
and wraps <cite>numpy.random.random_sample</cite>. That function takes a
tuple to specify the size of the output, which is consistent with
other NumPy functions like <cite>numpy.zeros</cite> and <cite>numpy.ones</cite>.</p>
</div>
<p>Create an array of the given shape and populate it with
random samples from a uniform distribution
over <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1)</span></code>.</p>
<dl class="simple">
<dt>d0, d1, …, dn<span class="classifier">int, optional</span></dt><dd><p>The dimensions of the returned array, must be non-negative.
If no argument is given a single Python float is returned.</p>
</dd>
</dl>
<dl>
<dt>out<span class="classifier">ndarray, shape <code class="docutils literal notranslate"><span class="pre">(d0,</span> <span class="pre">d1,</span> <span class="pre">...,</span> <span class="pre">dn)</span></code></span></dt><dd><p>Random values.</p>
</dd>
</dl>
<p>random</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">array([[ 0.14022471,  0.96360618],  #random</span>
<span class="go">       [ 0.37601032,  0.25528411],  #random</span>
<span class="go">       [ 0.49313049,  0.94909878]]) #random</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="source.emb_entropy.run_benchmark">
<code class="sig-prename descclassname">source.emb_entropy.</code><code class="sig-name descname">run_benchmark</code><span class="sig-paren">(</span><em class="sig-param">dim</em>, <em class="sig-param">k</em>, <em class="sig-param">num_of_samples=10000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/emb_entropy.html#run_benchmark"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.emb_entropy.run_benchmark" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dim</strong> – dimension of the distribution</p></li>
<li><p><strong>k</strong> – number of nearest neighbours</p></li>
<li><p><strong>num_of_samples</strong> – number of data points</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-source.emb_information">
<span id="source-emb-information-module"></span><h2>source.emb_information module<a class="headerlink" href="#module-source.emb_information" title="Permalink to this headline">¶</a></h2>
<p>Module for (Shannon) mutual information estimators.</p>
<dl class="function">
<dt id="source.emb_information.benchmark">
<code class="sig-prename descclassname">source.emb_information.</code><code class="sig-name descname">benchmark</code><span class="sig-paren">(</span><em class="sig-param">dim=10</em>, <em class="sig-param">cost_name='MIShannon_DKL'</em>, <em class="sig-param">num_of_samples=-1</em>, <em class="sig-param">max_num_of_samples=10000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/emb_information.html#benchmark"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.emb_information.benchmark" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Plot estimated vs analytical Mutual Information for random matrices.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param dim</dt>
<dd class="field-odd"><p>Data dimension (number of columns of the matrices)</p>
</dd>
<dt class="field-even">param cost_name</dt>
<dd class="field-even"><p>MI estimation algorithm, e.g, ‘BIHSIC_IChol’, ‘MIShannon_DKL’, ‘MIShannon_HS’ (for more see ite.cost)</p>
</dd>
<dt class="field-odd">param num_of_samples</dt>
<dd class="field-odd"><p>if -1 increases the number of data points by 1000 until max_num_of_samples,
if &gt;-1 it prints running time for this number of data points (matrix row num)</p>
</dd>
<dt class="field-even">param max_num_of_samples</dt>
<dd class="field-even"><p>maximum data point number in case of plotting for a series of sample nums.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.emb_information.estimate_embeddings_mi">
<code class="sig-prename descclassname">source.emb_information.</code><code class="sig-name descname">estimate_embeddings_mi</code><span class="sig-paren">(</span><em class="sig-param">datadir: str</em>, <em class="sig-param">vecs_names=[]</em>, <em class="sig-param">mm_embs_of=[]</em>, <em class="sig-param">cost_name='MIShannon_DKL'</em>, <em class="sig-param">pca_n_components=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/emb_information.html#estimate_embeddings_mi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.emb_information.estimate_embeddings_mi" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return estimated Mutual Information for a Embeddings with vecs_names in datadir.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param datadir</dt>
<dd class="field-odd"><p>Path to directory which contains embedding data.</p>
</dd>
<dt class="field-even">param vecs_names</dt>
<dd class="field-even"><p>List[str] Names of embeddings</p>
</dd>
<dt class="field-odd">param mm_embs_of</dt>
<dd class="field-odd"><p>List of str tuples, where the tuples contain names of embeddings which are to
be concatenated into a multi-modal mid-fusion embedding.</p>
</dd>
<dt class="field-even">param cost_name</dt>
<dd class="field-even"><p>MI estimation algorithm, e.g, ‘BIHSIC_IChol’, ‘MIShannon_DKL’, ‘MIShannon_HS’ (for more see ite.cost)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.emb_information.multivariate_normal">
<code class="sig-prename descclassname">source.emb_information.</code><code class="sig-name descname">multivariate_normal</code><span class="sig-paren">(</span><em class="sig-param">mean</em>, <em class="sig-param">cov</em>, <em class="sig-param">size=None</em>, <em class="sig-param">check_valid='warn'</em>, <em class="sig-param">tol=1e-8</em><span class="sig-paren">)</span><a class="headerlink" href="#source.emb_information.multivariate_normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw random samples from a multivariate normal distribution.</p>
<p>The multivariate normal, multinormal or Gaussian distribution is a
generalization of the one-dimensional normal distribution to higher
dimensions.  Such a distribution is specified by its mean and
covariance matrix.  These parameters are analogous to the mean
(average or “center”) and variance (standard deviation, or “width,”
squared) of the one-dimensional normal distribution.</p>
<dl class="simple">
<dt>mean<span class="classifier">1-D array_like, of length N</span></dt><dd><p>Mean of the N-dimensional distribution.</p>
</dd>
<dt>cov<span class="classifier">2-D array_like, of shape (N, N)</span></dt><dd><p>Covariance matrix of the distribution. It must be symmetric and
positive-semidefinite for proper sampling.</p>
</dd>
<dt>size<span class="classifier">int or tuple of ints, optional</span></dt><dd><p>Given a shape of, for example, <code class="docutils literal notranslate"><span class="pre">(m,n,k)</span></code>, <code class="docutils literal notranslate"><span class="pre">m*n*k</span></code> samples are
generated, and packed in an <cite>m</cite>-by-<cite>n</cite>-by-<cite>k</cite> arrangement.  Because
each sample is <cite>N</cite>-dimensional, the output shape is <code class="docutils literal notranslate"><span class="pre">(m,n,k,N)</span></code>.
If no shape is specified, a single (<cite>N</cite>-D) sample is returned.</p>
</dd>
<dt>check_valid<span class="classifier">{ ‘warn’, ‘raise’, ‘ignore’ }, optional</span></dt><dd><p>Behavior when the covariance matrix is not positive semidefinite.</p>
</dd>
<dt>tol<span class="classifier">float, optional</span></dt><dd><p>Tolerance when checking the singular values in covariance matrix.
cov is cast to double before the check.</p>
</dd>
</dl>
<dl>
<dt>out<span class="classifier">ndarray</span></dt><dd><p>The drawn samples, of shape <em>size</em>, if that was provided.  If not,
the shape is <code class="docutils literal notranslate"><span class="pre">(N,)</span></code>.</p>
<p>In other words, each entry <code class="docutils literal notranslate"><span class="pre">out[i,j,...,:]</span></code> is an N-dimensional
value drawn from the distribution.</p>
</dd>
</dl>
<p>The mean is a coordinate in N-dimensional space, which represents the
location where samples are most likely to be generated.  This is
analogous to the peak of the bell curve for the one-dimensional or
univariate normal distribution.</p>
<p>Covariance indicates the level to which two variables vary together.
From the multivariate normal distribution, we draw N-dimensional
samples, <span class="math notranslate nohighlight">\(X = [x_1, x_2, ... x_N]\)</span>.  The covariance matrix
element <span class="math notranslate nohighlight">\(C_{ij}\)</span> is the covariance of <span class="math notranslate nohighlight">\(x_i\)</span> and <span class="math notranslate nohighlight">\(x_j\)</span>.
The element <span class="math notranslate nohighlight">\(C_{ii}\)</span> is the variance of <span class="math notranslate nohighlight">\(x_i\)</span> (i.e. its
“spread”).</p>
<p>Instead of specifying the full covariance matrix, popular
approximations include:</p>
<blockquote>
<div><ul class="simple">
<li><p>Spherical covariance (<cite>cov</cite> is a multiple of the identity matrix)</p></li>
<li><p>Diagonal covariance (<cite>cov</cite> has non-negative elements, and only on
the diagonal)</p></li>
</ul>
</div></blockquote>
<p>This geometrical property can be seen in two dimensions by plotting
generated data-points:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mean</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">]]</span>  <span class="c1"># diagonal covariance</span>
</pre></div>
</div>
<p>Diagonal covariance means that points are oriented along x or y-axis:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multivariate_normal</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that the covariance matrix must be positive semidefinite (a.k.a.
nonnegative-definite). Otherwise, the behavior of this method is
undefined and backwards compatibility is not guaranteed.</p>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets">1</span></dt>
<dd><p>Papoulis, A., “Probability, Random Variables, and Stochastic
Processes,” 3rd ed., New York: McGraw-Hill, 1991.</p>
</dd>
<dt class="label" id="id4"><span class="brackets">2</span></dt>
<dd><p>Duda, R. O., Hart, P. E., and Stork, D. G., “Pattern
Classification,” 2nd ed., New York: Wiley, 2001.</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mean</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">multivariate_normal</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(3, 3, 2)</span>
</pre></div>
</div>
<p>The following is probably true, given that 0.6 is roughly twice the
standard deviation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,:]</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.6</span><span class="p">)</span>
<span class="go">[True, True] # random</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="source.emb_information.plot_for_freqranges">
<code class="sig-prename descclassname">source.emb_information.</code><code class="sig-name descname">plot_for_freqranges</code><span class="sig-paren">(</span><em class="sig-param">file_path, vis_names=['vecs3lem1', 'google_resnet152'], quantity=-1, legend=True, fname='', suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/emb_information.html#plot_for_freqranges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.emb_information.plot_for_freqranges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.emb_information.plot_for_quantities">
<code class="sig-prename descclassname">source.emb_information.</code><code class="sig-name descname">plot_for_quantities</code><span class="sig-paren">(</span><em class="sig-param">file_path, vis_names=['vecs3lem1', 'google_resnet152'], legend=True, fname='', suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/emb_information.html#plot_for_quantities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.emb_information.plot_for_quantities" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.emb_information.plots">
<code class="sig-prename descclassname">source.emb_information.</code><code class="sig-name descname">plots</code><span class="sig-paren">(</span><em class="sig-param">file_pattern, vis_names=['vecs3lem1', 'google_resnet152'], fqrng_quantity=-1, legend=True, suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/emb_information.html#plots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.emb_information.plots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.emb_information.rand">
<code class="sig-prename descclassname">source.emb_information.</code><code class="sig-name descname">rand</code><span class="sig-paren">(</span><em class="sig-param">d0</em>, <em class="sig-param">d1</em>, <em class="sig-param">...</em>, <em class="sig-param">dn</em><span class="sig-paren">)</span><a class="headerlink" href="#source.emb_information.rand" title="Permalink to this definition">¶</a></dt>
<dd><p>Random values in a given shape.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a convenience function for users porting code from Matlab,
and wraps <cite>numpy.random.random_sample</cite>. That function takes a
tuple to specify the size of the output, which is consistent with
other NumPy functions like <cite>numpy.zeros</cite> and <cite>numpy.ones</cite>.</p>
</div>
<p>Create an array of the given shape and populate it with
random samples from a uniform distribution
over <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1)</span></code>.</p>
<dl class="simple">
<dt>d0, d1, …, dn<span class="classifier">int, optional</span></dt><dd><p>The dimensions of the returned array, must be non-negative.
If no argument is given a single Python float is returned.</p>
</dd>
</dl>
<dl>
<dt>out<span class="classifier">ndarray, shape <code class="docutils literal notranslate"><span class="pre">(d0,</span> <span class="pre">d1,</span> <span class="pre">...,</span> <span class="pre">dn)</span></code></span></dt><dd><p>Random values.</p>
</dd>
</dl>
<p>random</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">array([[ 0.14022471,  0.96360618],  #random</span>
<span class="go">       [ 0.37601032,  0.25528411],  #random</span>
<span class="go">       [ 0.49313049,  0.94909878]]) #random</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="source.emb_information.run_mi_experiments">
<code class="sig-prename descclassname">source.emb_information.</code><code class="sig-name descname">run_mi_experiments</code><span class="sig-paren">(</span><em class="sig-param">exp_names='quantity'</em>, <em class="sig-param">cost_name='MIShannon_DKL'</em>, <em class="sig-param">pca_n_components=None</em>, <em class="sig-param">exp_suffix=''</em>, <em class="sig-param">blas_n_threads=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/emb_information.html#run_mi_experiments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.emb_information.run_mi_experiments" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cost_name</strong> – MI estimation algorithm, e.g, HSIC kernel method: ‘BIHSIC_IChol’,
KNN based linear:   ‘MIShannon_DKL’</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.emb_information.run_pca">
<code class="sig-prename descclassname">source.emb_information.</code><code class="sig-name descname">run_pca</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">n_components</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/emb_information.html#run_pca"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.emb_information.run_pca" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-source.embedding">
<span id="source-embedding-module"></span><h2>source.embedding module<a class="headerlink" href="#module-source.embedding" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="source.embedding.LossLogger">
<em class="property">class </em><code class="sig-prename descclassname">source.embedding.</code><code class="sig-name descname">LossLogger</code><span class="sig-paren">(</span><em class="sig-param">show=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/embedding.html#LossLogger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.embedding.LossLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">gensim.models.callbacks.CallbackAny2Vec</span></code></p>
<p>Callback to print loss after each epoch.</p>
<dl class="method">
<dt id="source.embedding.LossLogger.on_batch_end">
<code class="sig-name descname">on_batch_end</code><span class="sig-paren">(</span><em class="sig-param">model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/embedding.html#LossLogger.on_batch_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.embedding.LossLogger.on_batch_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called at the end of each batch.</p>
<dl>
<dt>model<span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseWordEmbeddingsModel</span></code></span></dt><dd><p>Current model.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="source.embedding.LossLogger.on_epoch_begin">
<code class="sig-name descname">on_epoch_begin</code><span class="sig-paren">(</span><em class="sig-param">model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/embedding.html#LossLogger.on_epoch_begin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.embedding.LossLogger.on_epoch_begin" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called at the start of each epoch.</p>
<dl>
<dt>model<span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseWordEmbeddingsModel</span></code></span></dt><dd><p>Current model.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="source.embedding.LossLogger.on_epoch_end">
<code class="sig-name descname">on_epoch_end</code><span class="sig-paren">(</span><em class="sig-param">model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/embedding.html#LossLogger.on_epoch_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.embedding.LossLogger.on_epoch_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called at the end of each epoch.</p>
<dl>
<dt>model<span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseWordEmbeddingsModel</span></code></span></dt><dd><p>Current model.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="source.embedding.LossLogger.on_train_end">
<code class="sig-name descname">on_train_end</code><span class="sig-paren">(</span><em class="sig-param">model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/embedding.html#LossLogger.on_train_end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.embedding.LossLogger.on_train_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called at the end of the training process.</p>
<dl>
<dt>model<span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseWordEmbeddingsModel</span></code></span></dt><dd><p>Current model.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="source.embedding.train">
<code class="sig-prename descclassname">source.embedding.</code><code class="sig-name descname">train</code><span class="sig-paren">(</span><em class="sig-param">corpus</em>, <em class="sig-param">save_path</em>, <em class="sig-param">load_path=None</em>, <em class="sig-param">size=300</em>, <em class="sig-param">window=5</em>, <em class="sig-param">min_count=10</em>, <em class="sig-param">workers=4</em>, <em class="sig-param">epochs=5</em>, <em class="sig-param">max_vocab_size=None</em>, <em class="sig-param">show_loss=False</em>, <em class="sig-param">save_loss=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/embedding.html#train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.embedding.train" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Train w2v.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param corpus</dt>
<dd class="field-odd"><p>list of list strings</p>
</dd>
<dt class="field-even">param save_path</dt>
<dd class="field-even"><p>Model file path</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>trained model</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-source.process_embeddings">
<span id="source-process-embeddings-module"></span><h2>source.process_embeddings module<a class="headerlink" href="#module-source.process_embeddings" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="source.process_embeddings.Embeddings">
<em class="property">class </em><code class="sig-prename descclassname">source.process_embeddings.</code><code class="sig-name descname">Embeddings</code><span class="sig-paren">(</span><em class="sig-param">datadir: str</em>, <em class="sig-param">vecs_names</em>, <em class="sig-param">ling_vecs_names=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_embeddings.html#Embeddings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_embeddings.Embeddings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data class for storing embeddings.</p>
<dl class="attribute">
<dt id="source.process_embeddings.Embeddings.embeddings">
<code class="sig-name descname">embeddings</code><em class="property"> = typing.List[numpy.ndarray]</em><a class="headerlink" href="#source.process_embeddings.Embeddings.embeddings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="source.process_embeddings.Embeddings.fasttext_vss">
<code class="sig-name descname">fasttext_vss</code><em class="property"> = {'crawl': 'crawl-300d-2M.vec', 'crawl_sub': 'crawl-300d-2M-subword', 'w2v13': '', 'wikinews': 'wiki-news-300d-1M.vec', 'wikinews_sub': 'wiki-news-300d-1M-subword.vec'}</em><a class="headerlink" href="#source.process_embeddings.Embeddings.fasttext_vss" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="source.process_embeddings.Embeddings.get_emb_type_label">
<em class="property">static </em><code class="sig-name descname">get_emb_type_label</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_embeddings.html#Embeddings.get_emb_type_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_embeddings.Embeddings.get_emb_type_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="source.process_embeddings.Embeddings.get_label">
<em class="property">static </em><code class="sig-name descname">get_label</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_embeddings.html#Embeddings.get_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_embeddings.Embeddings.get_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a printable label for embedding names.</p>
</dd></dl>

<dl class="method">
<dt id="source.process_embeddings.Embeddings.get_labels">
<em class="property">static </em><code class="sig-name descname">get_labels</code><span class="sig-paren">(</span><em class="sig-param">name_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_embeddings.html#Embeddings.get_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_embeddings.Embeddings.get_labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="source.process_embeddings.Embeddings.load_fasttext">
<code class="sig-name descname">load_fasttext</code><span class="sig-paren">(</span><em class="sig-param">fname: str</em><span class="sig-paren">)</span> &#x2192; Tuple[numpy.ndarray, numpy.ndarray]<a class="reference internal" href="_modules/source/process_embeddings.html#Embeddings.load_fasttext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_embeddings.Embeddings.load_fasttext" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="source.process_embeddings.Embeddings.load_vecs">
<code class="sig-name descname">load_vecs</code><span class="sig-paren">(</span><em class="sig-param">vecs_name: str</em>, <em class="sig-param">datadir: str</em>, <em class="sig-param">filter_vocab=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_embeddings.html#Embeddings.load_vecs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_embeddings.Embeddings.load_vecs" title="Permalink to this definition">¶</a></dt>
<dd><p>Load npy vector files and vocab files. If they are not present load try loading gensim model.</p>
</dd></dl>

<dl class="attribute">
<dt id="source.process_embeddings.Embeddings.vecs_labels">
<code class="sig-name descname">vecs_labels</code><em class="property"> = typing.List[str]</em><a class="headerlink" href="#source.process_embeddings.Embeddings.vecs_labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="source.process_embeddings.Embeddings.vecs_names">
<code class="sig-name descname">vecs_names</code><em class="property"> = typing.List[str]</em><a class="headerlink" href="#source.process_embeddings.Embeddings.vecs_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="source.process_embeddings.Embeddings.vocabs">
<code class="sig-name descname">vocabs</code><em class="property"> = typing.List[typing.List[str]]</em><a class="headerlink" href="#source.process_embeddings.Embeddings.vocabs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="source.process_embeddings.agg_img_embeddings">
<code class="sig-prename descclassname">source.process_embeddings.</code><code class="sig-name descname">agg_img_embeddings</code><span class="sig-paren">(</span><em class="sig-param">values: dict</em>, <em class="sig-param">maxnum: int = 10</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="reference internal" href="_modules/source/process_embeddings.html#agg_img_embeddings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_embeddings.agg_img_embeddings" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Aggregate image vectors from a dictionary of to numpy embeddings and vocabulary.</dt><dd><p>The embedding is a numpy array of shape(vocab size, vector dim)
Vocabulary is a text file including words separated by new line.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.process_embeddings.divide_vocab_by_freqranges">
<code class="sig-prename descclassname">source.process_embeddings.</code><code class="sig-name descname">divide_vocab_by_freqranges</code><span class="sig-paren">(</span><em class="sig-param">distribution_file</em>, <em class="sig-param">num_groups=3</em>, <em class="sig-param">save=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_embeddings.html#divide_vocab_by_freqranges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_embeddings.divide_vocab_by_freqranges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.process_embeddings.filter_by_vocab">
<code class="sig-prename descclassname">source.process_embeddings.</code><code class="sig-name descname">filter_by_vocab</code><span class="sig-paren">(</span><em class="sig-param">vecs</em>, <em class="sig-param">vocab</em>, <em class="sig-param">filter_vocab</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_embeddings.html#filter_by_vocab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_embeddings.filter_by_vocab" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Filter numpy array and corresponding vocab, so they contain words and vectors for</dt><dd><p>words in filter_vocab.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.process_embeddings.filter_for_freqranges">
<code class="sig-prename descclassname">source.process_embeddings.</code><code class="sig-name descname">filter_for_freqranges</code><span class="sig-paren">(</span><em class="sig-param">datadir</em>, <em class="sig-param">fqvocabs_file</em>, <em class="sig-param">file_patterns=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_embeddings.html#filter_for_freqranges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_embeddings.filter_for_freqranges" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter embedding files with the given file pattern.</p>
</dd></dl>

<dl class="function">
<dt id="source.process_embeddings.mid_fusion">
<code class="sig-prename descclassname">source.process_embeddings.</code><code class="sig-name descname">mid_fusion</code><span class="sig-paren">(</span><em class="sig-param">embeddings, vocabs, labels, padding: bool, combnum: int = 2) -&gt; (typing.List[numpy.ndarray], typing.List[numpy.ndarray], typing.List[str]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_embeddings.html#mid_fusion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_embeddings.mid_fusion" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Concatenate embeddings pairwise for words in the intersection or union (with padding) of their vocabulary.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param embeddings</dt>
<dd class="field-odd"><p>List[np.ndarray] or List[Tuple[np.ndarray]]</p>
</dd>
<dt class="field-even">param vocabs</dt>
<dd class="field-even"><p>List[np.ndarray] or List[Tuple[np.ndarray]]</p>
</dd>
<dt class="field-odd">param labels</dt>
<dd class="field-odd"><p>List[np.ndarray] or List[Tuple[np.ndarray]]</p>
</dd>
<dt class="field-even">param padding</dt>
<dd class="field-even"><p>If true, all the vectors are kept from the embeddings’ vocabularies.
The vectors parts without a vector from another modality are padded with zeros.</p>
</dd>
<dt class="field-odd">param combnum</dt>
<dd class="field-odd"><p>number of modalities concatenated in the final multi-modal vector</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.process_embeddings.serialize2npy">
<code class="sig-prename descclassname">source.process_embeddings.</code><code class="sig-name descname">serialize2npy</code><span class="sig-paren">(</span><em class="sig-param">filepath: str</em>, <em class="sig-param">savedir: str</em>, <em class="sig-param">maxnum: int = 10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_embeddings.html#serialize2npy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_embeddings.serialize2npy" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Save embedding files from pickle containing dictionary of {word: np.ndarray}</dt><dd><p>into embedding.npy, embedding.vocab, for eval.
The embedding is a numpy array of shape(vocab size, vector dim)
Vocabulary is a text file including words separated by new line.
:param filepath: Path to a pickle file containing a dict of</p>
<blockquote>
<div><p>either {word: &lt;image embedding list&gt;}
or     {word: &lt;image embedding&gt;}        (‘descriptors’ suffix in mmfeat file names)</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-source.process_vg">
<span id="source-process-vg-module"></span><h2>source.process_vg module<a class="headerlink" href="#module-source.process_vg" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="source.process_vg.description_corpus">
<code class="sig-prename descclassname">source.process_vg.</code><code class="sig-name descname">description_corpus</code><span class="sig-paren">(</span><em class="sig-param">region_descriptions</em>, <em class="sig-param">lemmatise</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_vg.html#description_corpus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_vg.description_corpus" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all descriptions as a corpus in form of list of strings (sentences).</p>
</dd></dl>

<dl class="function">
<dt id="source.process_vg.save_description_corpus">
<code class="sig-prename descclassname">source.process_vg.</code><code class="sig-name descname">save_description_corpus</code><span class="sig-paren">(</span><em class="sig-param">datadir</em>, <em class="sig-param">lemmatise=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_vg.html#save_description_corpus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_vg.save_description_corpus" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.process_vg.vg_dists">
<code class="sig-prename descclassname">source.process_vg.</code><code class="sig-name descname">vg_dists</code><span class="sig-paren">(</span><em class="sig-param">datadir='/Users/anitavero/projects/data/visualgenome'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_vg.html#vg_dists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_vg.vg_dists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.process_vg.vg_pmis">
<code class="sig-prename descclassname">source.process_vg.</code><code class="sig-name descname">vg_pmis</code><span class="sig-paren">(</span><em class="sig-param">words_file, datadir='/Users/anitavero/projects/data/visualgenome', bigram_file='bigram_vg.pkl', variants=['ppmi']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_vg.html#vg_pmis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_vg.vg_pmis" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Save PMI scores for bigrams including words in file word_list.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param words_file</dt>
<dd class="field-odd"><p>json file name in data_dir, consisting of an str list</p>
</dd>
<dt class="field-even">param datadir</dt>
<dd class="field-even"><p>path to directory with data</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-source.process_wiki">
<span id="source-process-wiki-module"></span><h2>source.process_wiki module<a class="headerlink" href="#module-source.process_wiki" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Module for processing a Wikipedia dump previously extracted using</dt><dd><p>WikiExtractor (<a class="reference external" href="https://github.com/attardi/wikiextractor">https://github.com/attardi/wikiextractor</a>)</p>
</dd>
</dl>
<dl class="function">
<dt id="source.process_wiki.contexts_for_quantity">
<code class="sig-prename descclassname">source.process_wiki.</code><code class="sig-name descname">contexts_for_quantity</code><span class="sig-paren">(</span><em class="sig-param">data_dir</em>, <em class="sig-param">save_dir</em>, <em class="sig-param">num</em>, <em class="sig-param">filename_suffix=''</em>, <em class="sig-param">contexts_pattern=''</em>, <em class="sig-param">window=5</em>, <em class="sig-param">vocab=[]</em>, <em class="sig-param">processes=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_wiki.html#contexts_for_quantity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_wiki.contexts_for_quantity" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Loads randomly chosen, given number of context files and concatenates them into one file.</dt><dd><p>If there are no .contexts files under data_dir/* subdirectories, but one .contexts file exists under
data_dir directly, it will just return this file name.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.process_wiki.create_context_files">
<code class="sig-prename descclassname">source.process_wiki.</code><code class="sig-name descname">create_context_files</code><span class="sig-paren">(</span><em class="sig-param">data_dir=None</em>, <em class="sig-param">jsons=None</em>, <em class="sig-param">window=5</em>, <em class="sig-param">vocab=[]</em>, <em class="sig-param">processes=1</em>, <em class="sig-param">merge=False</em>, <em class="sig-param">filename_suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_wiki.html#create_context_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_wiki.create_context_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.process_wiki.distribution">
<code class="sig-prename descclassname">source.process_wiki.</code><code class="sig-name descname">distribution</code><span class="sig-paren">(</span><em class="sig-param">data_dir</em>, <em class="sig-param">format='json'</em>, <em class="sig-param">file_suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_wiki.html#distribution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_wiki.distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Count word frequencies from text files or json files, containing list of str lists.</p>
</dd></dl>

<dl class="function">
<dt id="source.process_wiki.get_pmi_for_words">
<code class="sig-prename descclassname">source.process_wiki.</code><code class="sig-name descname">get_pmi_for_words</code><span class="sig-paren">(</span><em class="sig-param">words_file, data_dir, process=False, bigram_file=None, variants=['pmi']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_wiki.html#get_pmi_for_words"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_wiki.get_pmi_for_words" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Save PMI scores for bigrams including words in file word_list.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param words_file</dt>
<dd class="field-odd"><p>json file name in data_dir, consisting of an str list</p>
</dd>
<dt class="field-even">param data_dir</dt>
<dd class="field-even"><p>path to directory with data</p>
</dd>
<dt class="field-odd">param process</dt>
<dd class="field-odd"><p>bool, if True it preprocesses wiki files if False it loads preprocessed jsons.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.process_wiki.plot_distribution">
<code class="sig-prename descclassname">source.process_wiki.</code><code class="sig-name descname">plot_distribution</code><span class="sig-paren">(</span><em class="sig-param">dist_file</em>, <em class="sig-param">logscale=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_wiki.html#plot_distribution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_wiki.plot_distribution" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.process_wiki.process_files">
<code class="sig-prename descclassname">source.process_wiki.</code><code class="sig-name descname">process_files</code><span class="sig-paren">(</span><em class="sig-param">data_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_wiki.html#process_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_wiki.process_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Sentence tokenize and stop word filter all text files
and save the tokenized texts to json files into the ‘tokenized’ directory.</p>
</dd></dl>

<dl class="function">
<dt id="source.process_wiki.w2v_for_quantities">
<code class="sig-prename descclassname">source.process_wiki.</code><code class="sig-name descname">w2v_for_quantities</code><span class="sig-paren">(</span><em class="sig-param">data_dir</em>, <em class="sig-param">save_dir</em>, <em class="sig-param">w2v_dir</em>, <em class="sig-param">sample_num</em>, <em class="sig-param">trfile_num</em>, <em class="sig-param">size=300</em>, <em class="sig-param">min_count=10</em>, <em class="sig-param">workers=4</em>, <em class="sig-param">negative=15</em>, <em class="sig-param">exp_name=''</em>, <em class="sig-param">contexts_pattern=''</em>, <em class="sig-param">window=5</em>, <em class="sig-param">vocab=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_wiki.html#w2v_for_quantities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_wiki.w2v_for_quantities" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Train several Word2Vecs in parallel for the same data quantity, multiple times on random subsets.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param data_dir</dt>
<dd class="field-odd"><p>‘tokenized’ directory with subdirectories of jsons.</p>
</dd>
<dt class="field-even">param save_dir</dt>
<dd class="field-even"><p>directory where we save the model and log files.</p>
</dd>
<dt class="field-odd">param sample_num</dt>
<dd class="field-odd"><p>number of random trainings for the same number of files.</p>
</dd>
<dt class="field-even">param trfile_num</dt>
<dd class="field-even"><p>number of sampled training files. If num &lt;= 0 we train on the whole corpus.</p>
</dd>
</dl>
<p>Rest are Word2Vec training parameters.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.process_wiki.w2v_for_quantity">
<code class="sig-prename descclassname">source.process_wiki.</code><code class="sig-name descname">w2v_for_quantity</code><span class="sig-paren">(</span><em class="sig-param">data_dir</em>, <em class="sig-param">save_dir</em>, <em class="sig-param">w2v_dir</em>, <em class="sig-param">num</em>, <em class="sig-param">size=300</em>, <em class="sig-param">min_count=10</em>, <em class="sig-param">workers=4</em>, <em class="sig-param">negative=15</em>, <em class="sig-param">filename_suffix=''</em>, <em class="sig-param">contexts_pattern=''</em>, <em class="sig-param">window=5</em>, <em class="sig-param">vocab=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/process_wiki.html#w2v_for_quantity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.process_wiki.w2v_for_quantity" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Train Word2Vec on a random number of tokenized json files.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param data_dir</dt>
<dd class="field-odd"><p>‘tokenized’ directory with subdirectories of .context files.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-source.run_analysis">
<span id="source-run-analysis-module"></span><h2>source.run_analysis module<a class="headerlink" href="#module-source.run_analysis" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="source.run_analysis.main">
<code class="sig-prename descclassname">source.run_analysis.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">action</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/run_analysis.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.run_analysis.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-source.run_experiments">
<span id="source-run-experiments-module"></span><h2>source.run_experiments module<a class="headerlink" href="#module-source.run_experiments" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="source.run_experiments.main">
<code class="sig-prename descclassname">source.run_experiments.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">exp_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/run_experiments.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.run_experiments.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-source.run_infogain_analysis">
<span id="source-run-infogain-analysis-module"></span><h2>source.run_infogain_analysis module<a class="headerlink" href="#module-source.run_infogain_analysis" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="source.run_infogain_analysis.main">
<code class="sig-prename descclassname">source.run_infogain_analysis.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">actions='printcorr'</em>, <em class="sig-param">name=''</em>, <em class="sig-param">tablefmt='simple'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/run_infogain_analysis.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.run_infogain_analysis.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-source.run_infogain_experiments">
<span id="source-run-infogain-experiments-module"></span><h2>source.run_infogain_experiments module<a class="headerlink" href="#module-source.run_infogain_experiments" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="source.run_infogain_experiments.main">
<code class="sig-prename descclassname">source.run_infogain_experiments.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">exp_name</em>, <em class="sig-param">filter_pattern=''</em>, <em class="sig-param">pre_score_files=None</em>, <em class="sig-param">subdir=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/run_infogain_experiments.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.run_infogain_experiments.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-source.task_eval">
<span id="source-task-eval-module"></span><h2>source.task_eval module<a class="headerlink" href="#module-source.task_eval" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="source.task_eval.DataSets">
<em class="property">class </em><code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">DataSets</code><span class="sig-paren">(</span><em class="sig-param">datadir: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#DataSets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.DataSets" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for storing evaluation datasets and linguistic embeddings.</p>
<dl class="attribute">
<dt id="source.task_eval.DataSets.datasets">
<code class="sig-name descname">datasets</code><em class="property"> = {}</em><a class="headerlink" href="#source.task_eval.DataSets.datasets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="source.task_eval.DataSets.fmri_vocab">
<code class="sig-name descname">fmri_vocab</code><em class="property"> = ['airplane', 'ant', 'apartment', 'arch', 'arm', 'barn', 'bear', 'bed', 'bee', 'beetle', 'bell', 'bicycle', 'bottle', 'butterfly', 'car', 'carrot', 'cat', 'celery', 'chair', 'chimney', 'chisel', 'church', 'closet', 'coat', 'corn', 'cow', 'cup', 'desk', 'dog', 'door', 'dress', 'dresser', 'eye', 'fly', 'foot', 'glass', 'hammer', 'hand', 'horse', 'house', 'igloo', 'key', 'knife', 'leg', 'lettuce', 'pants', 'pliers', 'refrigerator', 'saw', 'screwdriver', 'shirt', 'skirt', 'spoon', 'table', 'telephone', 'tomato', 'train', 'truck', 'watch', 'window']</em><a class="headerlink" href="#source.task_eval.DataSets.fmri_vocab" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="source.task_eval.DataSets.normalizers">
<code class="sig-name descname">normalizers</code><em class="property"> = {}</em><a class="headerlink" href="#source.task_eval.DataSets.normalizers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="source.task_eval.PlotColour">
<em class="property">class </em><code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">PlotColour</code><a class="reference internal" href="_modules/source/task_eval.html#PlotColour"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.PlotColour" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="source.task_eval.PlotColour.colour_by_modality">
<em class="property">static </em><code class="sig-name descname">colour_by_modality</code><span class="sig-paren">(</span><em class="sig-param">labels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#PlotColour.colour_by_modality"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.PlotColour.colour_by_modality" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="source.task_eval.PlotColour.get_legend">
<em class="property">static </em><code class="sig-name descname">get_legend</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#PlotColour.get_legend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.PlotColour.get_legend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="source.task_eval.compute_correlations">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">compute_correlations</code><span class="sig-paren">(</span><em class="sig-param">scores: (&lt;class 'numpy.ndarray'&gt;</em>, <em class="sig-param">&lt;class 'list'&gt;)</em>, <em class="sig-param">name_pairs: List[Tuple[str</em>, <em class="sig-param">str]] = None</em>, <em class="sig-param">common_subset: bool = False</em>, <em class="sig-param">leave_out=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#compute_correlations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.compute_correlations" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Compute correlation between score series.</dt><dd><blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">param scores</dt>
<dd class="field-odd"><p>Structured array of scores with embedding/ground_truth names.</p>
</dd>
<dt class="field-even">param name_pairs</dt>
<dd class="field-even"><p>pairs of scores to correlate. If None, every pair will be computed.
if ‘gt’, everything will be plot against the ground_truth.</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">param leave_out</dt>
<dd class="field-odd"><p>Leave out 1/leave_out portion of pairs, chosen randomly. Does not leave out if it is False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.task_eval.compute_dists">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">compute_dists</code><span class="sig-paren">(</span><em class="sig-param">vecs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#compute_dists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.compute_dists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.compute_scores">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">compute_scores</code><span class="sig-paren">(</span><em class="sig-param">actions</em>, <em class="sig-param">embeddings</em>, <em class="sig-param">scores</em>, <em class="sig-param">datasets</em>, <em class="sig-param">pairs</em>, <em class="sig-param">brain_scores=None</em>, <em class="sig-param">pre_score_files: str = None</em>, <em class="sig-param">ling_vecs_names=[]</em>, <em class="sig-param">vecs_names=[]</em>, <em class="sig-param">mm_lingvis=False</em>, <em class="sig-param">mm_embs_of: List[Tuple[str]] = None</em>, <em class="sig-param">mm_padding=False</em>, <em class="sig-param">common_subset=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#compute_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.compute_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute scores on all evaluation datasets.</p>
</dd></dl>

<dl class="function">
<dt id="source.task_eval.coverage">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">coverage</code><span class="sig-paren">(</span><em class="sig-param">vocabulary</em>, <em class="sig-param">data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#coverage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.coverage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.covered">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">covered</code><span class="sig-paren">(</span><em class="sig-param">dataset</em>, <em class="sig-param">vocab</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#covered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.covered" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.dataset_vocab">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">dataset_vocab</code><span class="sig-paren">(</span><em class="sig-param">dataset: str</em><span class="sig-paren">)</span> &#x2192; list<a class="reference internal" href="_modules/source/task_eval.html#dataset_vocab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.dataset_vocab" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.divide_eval_vocab_by_freqranges">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">divide_eval_vocab_by_freqranges</code><span class="sig-paren">(</span><em class="sig-param">distribution_file</em>, <em class="sig-param">eval_data_dir</em>, <em class="sig-param">dataset_name</em>, <em class="sig-param">num_groups=3</em>, <em class="sig-param">save=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#divide_eval_vocab_by_freqranges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.divide_eval_vocab_by_freqranges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.eval_concreteness">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">eval_concreteness</code><span class="sig-paren">(</span><em class="sig-param">scores: numpy.ndarray</em>, <em class="sig-param">word_pairs</em>, <em class="sig-param">num=100</em>, <em class="sig-param">gt_divisor=10</em>, <em class="sig-param">vecs_names=None</em>, <em class="sig-param">tablefmt='simple'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#eval_concreteness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.eval_concreteness" title="Permalink to this definition">¶</a></dt>
<dd><p>Eval dataset instances based on WordNet synsets.</p>
</dd></dl>

<dl class="function">
<dt id="source.task_eval.eval_dataset">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">eval_dataset</code><span class="sig-paren">(</span><em class="sig-param">dataset: List[Tuple[str, str, float]], dataset_name: str, embeddings: List[numpy.ndarray], vocabs: List[List[str]], labels: List[str]) -&gt; (&lt;class 'numpy.ndarray'&gt;, &lt;class 'list'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#eval_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.eval_dataset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.highlight">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">highlight</code><span class="sig-paren">(</span><em class="sig-param">val</em>, <em class="sig-param">conditions: dict</em>, <em class="sig-param">tablefmt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#highlight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.highlight" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Highlight value in a table column.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param val</dt>
<dd class="field-odd"><p>number, value</p>
</dd>
<dt class="field-even">param conditions</dt>
<dd class="field-even"><p>dict of {colour: condition}</p>
</dd>
<dt class="field-odd">param tablefmt</dt>
<dd class="field-odd"><p>‘simple’ is terminal, ‘latex-raw’ is LaTeX</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.task_eval.latex_escape">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">latex_escape</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#latex_escape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.latex_escape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.main">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">datadir, embdir: str = None, vecs_names=[], savepath=None, loadpath=None, actions=['plotcorr'], plot_orders=['ground_truth'], plot_vecs=[], ling_vecs_names=[], pre_score_files: str = None, mm_embs_of: List[Tuple[str]] = None, mm_lingvis=False, mm_padding=False, print_corr_for=None, common_subset=False, tablefmt: str = 'simple', concrete_num=100, pair_score_agg='sum', quantity=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.main" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actions</strong> – <p>Choose from the following:
‘printcorr’: Print correlation in tables on MEN and SimLex.
‘plotscores’: Plot correlations on MEN and SimLex.
‘concreteness’: Scores on caption_comsub Semantic Similarity dataset splits, ordered by pair_score_agg of</p>
<blockquote>
<div><p>WordNet concreteness scores of the two words in every word pair.
Optional: mm_padding</p>
</div></blockquote>
<p>’coverage’: Save coverages on similarity/relatedness/brain data.
‘compscores’: Compute scores on similarity/relatedness evaluation datasets.
‘compbrain’: Compute scores on brain evaluation datasets.
‘brainwords’: Plot Qualitative analysis on words in the brain data.
‘printbraincorr’: Print correlations on brain data.
‘plot_quantity’: Plot similarity/relatedness result for text quantity ranges.
‘plot_freqrange’: Plot similarity/relatedness result for wor frequency ranges.</p>
</p></li>
<li><p><strong>pair_score_agg</strong> – ‘sum’ or ‘diff’ of concreteness scores of word pairs.</p></li>
<li><p><strong>mm_lingvis</strong> – if True, create multi-modal embeddings, otherwise specific embedding pairs should be given.</p></li>
<li><p><strong>tablefmt</strong> – printed table format. ‘simple’ - terminal, ‘latex_raw’ - latex table.</p></li>
<li><p><strong>concrete_num</strong> – Plot of WordNet concreteness splits by concrete_num number of pairs.</p></li>
<li><p><strong>datadir</strong> – Path to directory which contains evaluation data (and embedding data if embdir is not given)</p></li>
<li><p><strong>vecs_names</strong> – List[str] Names of embeddings</p></li>
<li><p><strong>embdir</strong> – Path to directory which contains embedding files.</p></li>
<li><p><strong>savepath</strong> – Full path to the file to save scores without extension. None if there’s no saving.</p></li>
<li><p><strong>loadpath</strong> – Full path to the files to load scores and brain results from without extension.
If None, they’ll be computed.</p></li>
<li><p><strong>plot_orders</strong> – Performance plot ordered by similarity scores of these datasets or embeddings.</p></li>
<li><p><strong>plot_vecs</strong> – List[str] Names of embeddings to plot scores for.</p></li>
<li><p><strong>ling_vecs_names</strong> – List[str] Names of linguistic embeddings.</p></li>
<li><p><strong>pre_score_files</strong> – Previously saved score file path without extension, which the new scores will be merged with</p></li>
<li><p><strong>mm_embs_of</strong> – List of str tuples, where the tuples contain names of embeddings which are to
be concatenated into a multi-modal mid-fusion embedding.</p></li>
<li><p><strong>mm_padding</strong> – Default False. Multi-modal mid-fusion method. If true, all the vectors are kept from the embeddings’ vocabularies.
Vector representations without a vector from another modality are padded with zeros.</p></li>
<li><p><strong>print_corr_for</strong> – ‘gt’ prints correlations scores for ground truth, ‘all’ prints scores between all
pairs of scores.</p></li>
<li><p><strong>common_subset</strong> – action printcorr: Print results for subests of the eval datasets which are covered by all
embeddings’ vocabularies.
action compbarin: Compute brain scores for interection of vocabularies.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.task_eval.mm_over_uni">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">mm_over_uni</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">score_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#mm_over_uni"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.mm_over_uni" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.neighbors">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">neighbors</code><span class="sig-paren">(</span><em class="sig-param">words</em>, <em class="sig-param">vocab</em>, <em class="sig-param">vecs</em>, <em class="sig-param">n=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#neighbors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.neighbors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.plot_brain_words">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">plot_brain_words</code><span class="sig-paren">(</span><em class="sig-param">brain_scores</em>, <em class="sig-param">plot_order</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#plot_brain_words"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.plot_brain_words" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Plot hit counts for word in Brain data.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param brain_scores</dt>
<dd class="field-odd"><p>brain score dict</p>
</dd>
<dt class="field-even">param plot_order</dt>
<dd class="field-even"><p>‘concreteness’ orders words for Wordnet conreteness
&lt;emb_name&gt; orders plot for an embedding’s scores</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.task_eval.plot_by_concreteness">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">plot_by_concreteness</code><span class="sig-paren">(</span><em class="sig-param">scores: numpy.ndarray</em>, <em class="sig-param">word_pairs</em>, <em class="sig-param">ax1</em>, <em class="sig-param">ax2</em>, <em class="sig-param">common_subset=False</em>, <em class="sig-param">vecs_names=None</em>, <em class="sig-param">concrete_num=100</em>, <em class="sig-param">title_prefix=''</em>, <em class="sig-param">pair_score_agg='sum'</em>, <em class="sig-param">show=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#plot_by_concreteness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.plot_by_concreteness" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot scores for data splits with increasing concreteness.</p>
</dd></dl>

<dl class="function">
<dt id="source.task_eval.plot_for_freqranges">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">plot_for_freqranges</code><span class="sig-paren">(</span><em class="sig-param">scores: numpy.ndarray</em>, <em class="sig-param">gt_divisor</em>, <em class="sig-param">quantity=-1</em>, <em class="sig-param">common_subset=False</em>, <em class="sig-param">pair_num=None</em>, <em class="sig-param">split_num=None</em>, <em class="sig-param">ds_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#plot_for_freqranges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.plot_for_freqranges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.plot_for_quantities">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">plot_for_quantities</code><span class="sig-paren">(</span><em class="sig-param">scores: numpy.ndarray</em>, <em class="sig-param">gt_divisor</em>, <em class="sig-param">common_subset=False</em>, <em class="sig-param">legend=False</em>, <em class="sig-param">pair_num=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#plot_for_quantities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.plot_for_quantities" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.plot_scores">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">plot_scores</code><span class="sig-paren">(</span><em class="sig-param">scores: numpy.ndarray</em>, <em class="sig-param">gt_divisor=10</em>, <em class="sig-param">vecs_names=None</em>, <em class="sig-param">labels=None</em>, <em class="sig-param">colours=None</em>, <em class="sig-param">linestyles=None</em>, <em class="sig-param">title=None</em>, <em class="sig-param">type='plot'</em>, <em class="sig-param">alphas=None</em>, <em class="sig-param">xtick_labels=None</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">show=True</em>, <em class="sig-param">swapaxes=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#plot_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.plot_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Scatter plot of a structured array.</p>
</dd></dl>

<dl class="function">
<dt id="source.task_eval.print_brain_scores">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">print_brain_scores</code><span class="sig-paren">(</span><em class="sig-param">brain_scores</em>, <em class="sig-param">tablefmt: str = 'simple'</em>, <em class="sig-param">caption=''</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">label=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#print_brain_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.print_brain_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.print_correlations">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">print_correlations</code><span class="sig-paren">(</span><em class="sig-param">scores: numpy.ndarray</em>, <em class="sig-param">name_pairs='gt'</em>, <em class="sig-param">common_subset: bool = False</em>, <em class="sig-param">tablefmt: str = 'simple'</em>, <em class="sig-param">caption=''</em>, <em class="sig-param">label=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#print_correlations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.print_correlations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.print_subsampled_correlations">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">print_subsampled_correlations</code><span class="sig-paren">(</span><em class="sig-param">scores: numpy.ndarray</em>, <em class="sig-param">name_pairs='gt'</em>, <em class="sig-param">common_subset: bool = False</em>, <em class="sig-param">tablefmt: str = 'simple'</em>, <em class="sig-param">caption=''</em>, <em class="sig-param">label=''</em>, <em class="sig-param">n_sample=3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#print_subsampled_correlations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.print_subsampled_correlations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.task_eval.wn_concreteness">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">wn_concreteness</code><span class="sig-paren">(</span><em class="sig-param">word</em>, <em class="sig-param">similarity_fn=&lt;bound method WordNetCorpusReader.path_similarity of &lt;WordNetCorpusReader in '/Users/anitavero/nltk_data/corpora/wordnet'&gt;&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#wn_concreteness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.wn_concreteness" title="Permalink to this definition">¶</a></dt>
<dd><p>WordNet distance of a word from its root hypernym.</p>
</dd></dl>

<dl class="function">
<dt id="source.task_eval.wn_concreteness_for_pairs">
<code class="sig-prename descclassname">source.task_eval.</code><code class="sig-name descname">wn_concreteness_for_pairs</code><span class="sig-paren">(</span><em class="sig-param">word_pairs</em>, <em class="sig-param">synset_agg: str</em>, <em class="sig-param">similarity_fn=&lt;bound method WordNetCorpusReader.path_similarity of &lt;WordNetCorpusReader in '/Users/anitavero/nltk_data/corpora/wordnet'&gt;&gt;</em>, <em class="sig-param">pair_score_agg='sum') -&gt; (&lt;class 'numpy.ndarray'&gt;</em>, <em class="sig-param">&lt;class 'numpy.ndarray'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/task_eval.html#wn_concreteness_for_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.task_eval.wn_concreteness_for_pairs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Sort scores by first and second word’s concreteness scores.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param pair_score_agg</dt>
<dd class="field-odd"><p>‘sum’ adds scores for the two words, ‘diff’ computes their absolute difference.</p>
</dd>
<dt class="field-even">return (ids, scores)</dt>
<dd class="field-even"><p>sorted score indices and concreteness scores.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-source.text_process">
<span id="source-text-process-module"></span><h2>source.text_process module<a class="headerlink" href="#module-source.text_process" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="source.text_process.BigramPMIVariants">
<em class="property">class </em><code class="sig-prename descclassname">source.text_process.</code><code class="sig-name descname">BigramPMIVariants</code><a class="reference internal" href="_modules/source/text_process.html#BigramPMIVariants"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.text_process.BigramPMIVariants" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nltk.metrics.association.BigramAssocMeasures</span></code></p>
<dl class="method">
<dt id="source.text_process.BigramPMIVariants.ppmi">
<em class="property">classmethod </em><code class="sig-name descname">ppmi</code><span class="sig-paren">(</span><em class="sig-param">*marginals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/text_process.html#BigramPMIVariants.ppmi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.text_process.BigramPMIVariants.ppmi" title="Permalink to this definition">¶</a></dt>
<dd><p>Scores ngrams by positive pointwise mutual information.</p>
</dd></dl>

<dl class="method">
<dt id="source.text_process.BigramPMIVariants.w_ppmi">
<em class="property">classmethod </em><code class="sig-name descname">w_ppmi</code><span class="sig-paren">(</span><em class="sig-param">*marginals</em>, <em class="sig-param">alpha=0.75</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/text_process.html#BigramPMIVariants.w_ppmi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.text_process.BigramPMIVariants.w_ppmi" title="Permalink to this definition">¶</a></dt>
<dd><p>Scores ngrams by weighted positive pointwise mutual information.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="source.text_process.concatenate_files">
<code class="sig-prename descclassname">source.text_process.</code><code class="sig-name descname">concatenate_files</code><span class="sig-paren">(</span><em class="sig-param">data_dir</em>, <em class="sig-param">file_pattern</em>, <em class="sig-param">outfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/text_process.html#concatenate_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.text_process.concatenate_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate files into one big file.</p>
</dd></dl>

<dl class="function">
<dt id="source.text_process.context_pairs">
<code class="sig-prename descclassname">source.text_process.</code><code class="sig-name descname">context_pairs</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">contexts_file</em>, <em class="sig-param">lang='english'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/text_process.html#context_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.text_process.context_pairs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Prepare contexts word2vecf without their context format:</dt><dd><p>textual file of word-context pairs.
each pair takes a separate line.
the format of a pair is “&lt;word&gt; &lt;context&gt;”, i.e. space delimited, where &lt;word&gt; and &lt;context&gt; are strings.
The context is all non stop words in the same sentence.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.text_process.extract_neighbours">
<code class="sig-prename descclassname">source.text_process.</code><code class="sig-name descname">extract_neighbours</code><span class="sig-paren">(</span><em class="sig-param">tokens</em>, <em class="sig-param">contexts_file</em>, <em class="sig-param">vocab=[]</em>, <em class="sig-param">window=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/text_process.html#extract_neighbours"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.text_process.extract_neighbours" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.text_process.hapax_legomena">
<code class="sig-prename descclassname">source.text_process.</code><code class="sig-name descname">hapax_legomena</code><span class="sig-paren">(</span><em class="sig-param">text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/text_process.html#hapax_legomena"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.text_process.hapax_legomena" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return words that occur only once within a text.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param text</dt>
<dd class="field-odd"><p>str list or Counter</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.text_process.pmi_for_words">
<code class="sig-prename descclassname">source.text_process.</code><code class="sig-name descname">pmi_for_words</code><span class="sig-paren">(</span><em class="sig-param">words, finder_file, token_list=None, document_list=None, variants=['pmi']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/text_process.html#pmi_for_words"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.text_process.pmi_for_words" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return PMI scores for words in a given tokenized corpus.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param words</dt>
<dd class="field-odd"><p>string list.</p>
</dd>
<dt class="field-even">param token_list</dt>
<dd class="field-even"><p>string list.</p>
</dd>
<dt class="field-odd">param document_list</dt>
<dd class="field-odd"><p>list of string lists</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.text_process.text2gensim">
<code class="sig-prename descclassname">source.text_process.</code><code class="sig-name descname">text2gensim</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">lang</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/text_process.html#text2gensim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.text_process.text2gensim" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Tokenize and filter stop words. Return list of str lists (std for gensim)</dt><dd><p>where each str list is a sentence and each text is a list of these lists.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.text_process.text2w2vf">
<code class="sig-prename descclassname">source.text_process.</code><code class="sig-name descname">text2w2vf</code><span class="sig-paren">(</span><em class="sig-param">corpus_tup</em>, <em class="sig-param">data_dir</em>, <em class="sig-param">window=5</em>, <em class="sig-param">vocab=[]</em>, <em class="sig-param">processes=1</em>, <em class="sig-param">merge=False</em>, <em class="sig-param">filename_suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/text_process.html#text2w2vf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.text_process.text2w2vf" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare contexts for word2vecf using their context format:
Textual file of word-context pairs.
Each pair takes a separate line.
The format of a pair is “&lt;word&gt; &lt;context&gt;”, i.e. space delimited, where &lt;word&gt; and &lt;context&gt; are strings.
The context is all non stop words in the same sentence or around the token if it’s not sent_tokenized.</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">param corpus_tup</dt>
<dd class="field-odd"><p>list with elements of: token (str) list or sentence list (list of str lists)</p>
</dd>
<dt class="field-even">param data_dir</dt>
<dd class="field-even"><p>directory to write context pairs to</p>
</dd>
<dt class="field-odd">param window</dt>
<dd class="field-odd"><p>Window for w2v. If 0 and text is a sentence list the context of all words are all the other
words in the same sentence.</p>
</dd>
<dt class="field-even">param vocab</dt>
<dd class="field-even"><p>list of str, vocab to filter with in extract_neighbours.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="source.text_process.tokenize">
<code class="sig-prename descclassname">source.text_process.</code><code class="sig-name descname">tokenize</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">lang</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/text_process.html#tokenize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.text_process.tokenize" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Lower, tokenize, filter punctuation and stopwords.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param text</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">param lang</dt>
<dd class="field-even"><p>{hungarian|english|hunglish}</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>str list iterator</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-source.train_word2vecf">
<span id="source-train-word2vecf-module"></span><h2>source.train_word2vecf module<a class="headerlink" href="#module-source.train_word2vecf" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="source.train_word2vecf.train">
<code class="sig-prename descclassname">source.train_word2vecf.</code><code class="sig-name descname">train</code><span class="sig-paren">(</span><em class="sig-param">contexts_file</em>, <em class="sig-param">save_dir</em>, <em class="sig-param">w2v_dir</em>, <em class="sig-param">filename_suffix=''</em>, <em class="sig-param">min_count=10</em>, <em class="sig-param">size=300</em>, <em class="sig-param">negative=15</em>, <em class="sig-param">threads=4</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/train_word2vecf.html#train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.train_word2vecf.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the stepst to train word2vecf on a given corpus:</p>
<blockquote>
<div><ol class="arabic" start="2">
<li><p>Create word and context vocabularies:</p>
<blockquote>
<div><p>./myword2vec/count_and_filter -train dep.contexts -cvocab cv -wvocab wv -min-count 100</p>
</div></blockquote>
</li>
</ol>
<blockquote>
<div><p>This will count the words and contexts in dep.contexts, discard either words or contexts
appearing &lt; 100 times, and write the counted words to <cite>wv</cite> and the counted contexts to <cite>cv</cite>.</p>
</div></blockquote>
<ol class="arabic" start="3">
<li><p>Train the embeddings:</p>
<blockquote>
<div><p>./myword2vec/word2vecf -train dep.contexts -wvocab wv -cvocab cv -output dim200vecs -size 200 -negative 15 -threads 10</p>
</div></blockquote>
</li>
</ol>
<blockquote>
<div><p>This will train 200-dim embeddings based on <cite>dep.contexts</cite>, <cite>wv</cite> and <cite>cv</cite> (lines in <cite>dep.contexts</cite> with word not in <cite>wv</cite> or context
not in <cite>cv</cite> are ignored).</p>
<p>The -dumpcv flag can be used in order to dump the trained context-vectors as well.</p>
<blockquote>
<div><p>./myword2vec/word2vecf -train dep.contexts -wvocab wv -cvocab cv -output dim200vecs -size 200 -negative 15 -threads 10 -dumpcv dim200context-vecs</p>
</div></blockquote>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>convert the embeddings to numpy-readable format.</p></li>
</ol>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-source.unsupervised_metrics">
<span id="source-unsupervised-metrics-module"></span><h2>source.unsupervised_metrics module<a class="headerlink" href="#module-source.unsupervised_metrics" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="source.unsupervised_metrics.agglomerative_clustering">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">agglomerative_clustering</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">n_clusters=3</em>, <em class="sig-param">linkage='ward'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#agglomerative_clustering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.agglomerative_clustering" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.avg_cluster_wordfrequency">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">avg_cluster_wordfrequency</code><span class="sig-paren">(</span><em class="sig-param">datadir='/Users/anitavero/projects/data/'</em>, <em class="sig-param">clmethod='agglomerative'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#avg_cluster_wordfrequency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.avg_cluster_wordfrequency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.cluster_eval">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">cluster_eval</code><span class="sig-paren">(</span><em class="sig-param">vectors</em>, <em class="sig-param">labels</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#cluster_eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.cluster_eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsupervised clustering metrics.</p>
</dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.cluster_method_from_filename">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">cluster_method_from_filename</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#cluster_method_from_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.cluster_method_from_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.cluster_similarities">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">cluster_similarities</code><span class="sig-paren">(</span><em class="sig-param">order='default'</em>, <em class="sig-param">clmethod='agglomerative'</em>, <em class="sig-param">plot=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#cluster_similarities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.cluster_similarities" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.cluster_sizes_avgfreq">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">cluster_sizes_avgfreq</code><span class="sig-paren">(</span><em class="sig-param">clusters</em>, <em class="sig-param">cl_freqs</em>, <em class="sig-param">embtype=None</em>, <em class="sig-param">method=None</em>, <em class="sig-param">barfontsize=20</em>, <em class="sig-param">suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#cluster_sizes_avgfreq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.cluster_sizes_avgfreq" title="Permalink to this definition">¶</a></dt>
<dd><p>Historgram of cluster sizes</p>
</dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.compute_cluster_similarities">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">compute_cluster_similarities</code><span class="sig-paren">(</span><em class="sig-param">emb_clusters1</em>, <em class="sig-param">emb_clusters2</em>, <em class="sig-param">compare</em>, <em class="sig-param">order</em>, <em class="sig-param">clmethod</em>, <em class="sig-param">plot</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#compute_cluster_similarities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.compute_cluster_similarities" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Compute cluster similarities between two embedding cluster structure.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param emb_clusters1</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">param emb_clusters2</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">param compare</dt>
<dd class="field-odd"><p>comparison based on ‘cross’ or ‘dot’ product.</p>
</dd>
<dt class="field-even">param order</dt>
<dd class="field-even"><p>‘clustermap’ or ‘avgfreq’(average corpus frequency of cluster element words). Default: ‘avgfreq’.</p>
</dd>
<dt class="field-odd">param clmethod</dt>
<dd class="field-odd"><p>‘kmeans’ or ‘agglomerative’.</p>
</dd>
<dt class="field-even">param plot</dt>
<dd class="field-even"><p>bool. If True similarity plot is created.</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>jaccard_similarities: dict {&lt;embedding pair label&gt;: similarity matrix}.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.dbscan_clustering">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">dbscan_clustering</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">eps=0.5</em>, <em class="sig-param">min_samples=90</em>, <em class="sig-param">n_jobs=4</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#dbscan_clustering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.dbscan_clustering" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.distances_from_centroids">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">distances_from_centroids</code><span class="sig-paren">(</span><em class="sig-param">emb</em>, <em class="sig-param">vocab</em>, <em class="sig-param">label_dict</em>, <em class="sig-param">centroids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#distances_from_centroids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.distances_from_centroids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.emb_labels">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">emb_labels</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#emb_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.emb_labels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.get_clustering_labels_metrics">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">get_clustering_labels_metrics</code><span class="sig-paren">(</span><em class="sig-param">vecs_names=[]</em>, <em class="sig-param">datadir='/anfs/bigdisc/alv34/wikidump/extracted/models/'</em>, <em class="sig-param">savedir='/anfs/bigdisc/alv34/wikidump/extracted/models/results/'</em>, <em class="sig-param">cluster_method='kmeans'</em>, <em class="sig-param">n_clusters=3</em>, <em class="sig-param">random_state=1</em>, <em class="sig-param">eps=0.5</em>, <em class="sig-param">min_samples=90</em>, <em class="sig-param">workers=4</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">linkage='ward'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#get_clustering_labels_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.get_clustering_labels_metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.get_n_nearest_neighbors">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">get_n_nearest_neighbors</code><span class="sig-paren">(</span><em class="sig-param">words: numpy.ndarray</em>, <em class="sig-param">E: numpy.ndarray</em>, <em class="sig-param">vocab: numpy.ndarray</em>, <em class="sig-param">n: int = 10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#get_n_nearest_neighbors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.get_n_nearest_neighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>n nearest neighbors for words based on cosine distance in Embedding E.</p>
</dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.inspect_clusters">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">inspect_clusters</code><span class="sig-paren">(</span><em class="sig-param">cluster_label_filepath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#inspect_clusters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.inspect_clusters" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Convert cluster label file containing {word: label} dict to {cluster_id: wordlist} dict,</dt><dd><p>ordered by the number of cluster members.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cluster_label_filepath</strong> – Path to cluster label file.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.jaccard_similarity_score">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">jaccard_similarity_score</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#jaccard_similarity_score"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.jaccard_similarity_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Jaccard Similarity J (A,B) = | Intersection (A,B) | / | Union (A,B) |</p>
</dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.kmeans">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">kmeans</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">n_clusters=3</em>, <em class="sig-param">random_state=1</em>, <em class="sig-param">n_jobs=4</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#kmeans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.kmeans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.label_clusters_with_wordnet">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">label_clusters_with_wordnet</code><span class="sig-paren">(</span><em class="sig-param">depth=3</em>, <em class="sig-param">max_label_num=3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#label_clusters_with_wordnet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.label_clusters_with_wordnet" title="Permalink to this definition">¶</a></dt>
<dd><p>First max_label_num most common synset names.</p>
</dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.n_nearest_neighbors">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">n_nearest_neighbors</code><span class="sig-paren">(</span><em class="sig-param">data_dir</em>, <em class="sig-param">model_name</em>, <em class="sig-param">words=[]</em>, <em class="sig-param">n: int = 10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#n_nearest_neighbors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.n_nearest_neighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>n nearest neighbors for words based on model &lt;vecs_names&gt;.</p>
</dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.order_clusters_by_avgfreq">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">order_clusters_by_avgfreq</code><span class="sig-paren">(</span><em class="sig-param">clusters</em>, <em class="sig-param">datapath</em>, <em class="sig-param">clfile</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#order_clusters_by_avgfreq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.order_clusters_by_avgfreq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.order_words_by_centroid_distance">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">order_words_by_centroid_distance</code><span class="sig-paren">(</span><em class="sig-param">clusters</em>, <em class="sig-param">cluster_label_filepath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#order_words_by_centroid_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.order_words_by_centroid_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Order words by their distance from the centroid</p>
</dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.plot_cluster_results">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">plot_cluster_results</code><span class="sig-paren">(</span><em class="sig-param">resdir='/Users/anitavero/projects/data/wikidump/models/'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#plot_cluster_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.plot_cluster_results" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.pmi_comparison">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">pmi_comparison</code><span class="sig-paren">(</span><em class="sig-param">datadir='/Users/anitavero/projects/data/wikidump/models/results/'</em>, <em class="sig-param">pmi_th=5</em>, <em class="sig-param">variants='ppmi'</em>, <em class="sig-param">format='latex'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#pmi_comparison"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.pmi_comparison" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.print_cluster_results">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">print_cluster_results</code><span class="sig-paren">(</span><em class="sig-param">resdir='/Users/anitavero/projects/data/wikidump/models/'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#print_cluster_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.print_cluster_results" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.print_clusters">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">print_clusters</code><span class="sig-paren">(</span><em class="sig-param">clusters_WN_filepath</em>, <em class="sig-param">tablefmt</em>, <em class="sig-param">barfontsize=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#print_clusters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.print_clusters" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clusters_WN_filepath</strong> – </p></li>
<li><p><strong>tablefmt</strong> – printed table format. ‘simple’ - terminal, ‘latex_raw’ - latex table.</p></li>
<li><p><strong>barfontsize</strong> – font size in the figure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>clusters, printed table</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.run_clustering">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">run_clustering</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">cluster_method</em>, <em class="sig-param">n_clusters=3</em>, <em class="sig-param">random_state=1</em>, <em class="sig-param">eps=0.5</em>, <em class="sig-param">min_samples=5</em>, <em class="sig-param">workers=4</em>, <em class="sig-param">linkage='ward'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#run_clustering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.run_clustering" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.run_clustering_experiments">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">run_clustering_experiments</code><span class="sig-paren">(</span><em class="sig-param">datadir='/anfs/bigdisc/alv34/wikidump/extracted/models/'</em>, <em class="sig-param">savedir='/anfs/bigdisc/alv34/wikidump/extracted/models/results/'</em>, <em class="sig-param">vecs_names=[]</em>, <em class="sig-param">mm_embs_of=[]</em>, <em class="sig-param">cluster_method='dbscan'</em>, <em class="sig-param">n_clusters=-1</em>, <em class="sig-param">random_state=1</em>, <em class="sig-param">eps=0.5</em>, <em class="sig-param">min_samples=90</em>, <em class="sig-param">workers=4</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">linkage='ward'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#run_clustering_experiments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.run_clustering_experiments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.run_inspect_clusters">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">run_inspect_clusters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#run_inspect_clusters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.run_inspect_clusters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.run_print_clusters">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">run_print_clusters</code><span class="sig-paren">(</span><em class="sig-param">barfontsize=25</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#run_print_clusters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.run_print_clusters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.save_closest_words_to_centroids">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">save_closest_words_to_centroids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#save_closest_words_to_centroids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.save_closest_words_to_centroids" title="Permalink to this definition">¶</a></dt>
<dd><p>Save words from each cluster, which are closest to the centroid.</p>
</dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.similar_cluster_nums">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">similar_cluster_nums</code><span class="sig-paren">(</span><em class="sig-param">clmethod='agglomerative'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#similar_cluster_nums"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.similar_cluster_nums" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.similarity_clustermap">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">similarity_clustermap</code><span class="sig-paren">(</span><em class="sig-param">V</em>, <em class="sig-param">xticks</em>, <em class="sig-param">yticks</em>, <em class="sig-param">title_embs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#similarity_clustermap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.similarity_clustermap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.similarity_heatmap">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">similarity_heatmap</code><span class="sig-paren">(</span><em class="sig-param">V</em>, <em class="sig-param">xticks</em>, <em class="sig-param">yticks</em>, <em class="sig-param">title_embs</em>, <em class="sig-param">order</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#similarity_heatmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.similarity_heatmap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.synset_closures">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">synset_closures</code><span class="sig-paren">(</span><em class="sig-param">word</em>, <em class="sig-param">depth=3</em>, <em class="sig-param">get_names=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#synset_closures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.synset_closures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.wn_category">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">wn_category</code><span class="sig-paren">(</span><em class="sig-param">word</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#wn_category"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.wn_category" title="Permalink to this definition">¶</a></dt>
<dd><p>Map a word to categories based on WordNet closures.</p>
</dd></dl>

<dl class="function">
<dt id="source.unsupervised_metrics.wn_label_for_words">
<code class="sig-prename descclassname">source.unsupervised_metrics.</code><code class="sig-name descname">wn_label_for_words</code><span class="sig-paren">(</span><em class="sig-param">words</em>, <em class="sig-param">depth=3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/unsupervised_metrics.html#wn_label_for_words"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.unsupervised_metrics.wn_label_for_words" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-source.utils">
<span id="source-utils-module"></span><h2>source.utils module<a class="headerlink" href="#module-source.utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="source.utils.create_dir">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">create_dir</code><span class="sig-paren">(</span><em class="sig-param">directory</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#create_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.create_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.utils.dict2struct_array">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">dict2struct_array</code><span class="sig-paren">(</span><em class="sig-param">d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#dict2struct_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.dict2struct_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert dict to structured array.</p>
</dd></dl>

<dl class="function">
<dt id="source.utils.get_file_name">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">get_file_name</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#get_file_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.get_file_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.utils.get_vec">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">get_vec</code><span class="sig-paren">(</span><em class="sig-param">word</em>, <em class="sig-param">embeddings</em>, <em class="sig-param">vocab</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#get_vec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.get_vec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.utils.hr_time">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">hr_time</code><span class="sig-paren">(</span><em class="sig-param">time</em>, <em class="sig-param">round_n=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#hr_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.hr_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Human readable time.</p>
</dd></dl>

<dl class="function">
<dt id="source.utils.join_struct_arrays">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">join_struct_arrays</code><span class="sig-paren">(</span><em class="sig-param">arrays</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#join_struct_arrays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.join_struct_arrays" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.utils.latex_table_post_process">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">latex_table_post_process</code><span class="sig-paren">(</span><em class="sig-param">table</em>, <em class="sig-param">bottomrule_row_ids: List[int] = []</em>, <em class="sig-param">title=''</em>, <em class="sig-param">fit_to_page=False</em>, <em class="sig-param">label=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#latex_table_post_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.latex_table_post_process" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Add separator lines and align width to page.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param bottomrule_row_ids</dt>
<dd class="field-odd"><p>Row indices (without header) below which we put a separator line.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.utils.latex_table_wrapper">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">latex_table_wrapper</code><span class="sig-paren">(</span><em class="sig-param">table</em>, <em class="sig-param">title</em>, <em class="sig-param">fit_to_page</em>, <em class="sig-param">label</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#latex_table_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.latex_table_wrapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.utils.pfont">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">pfont</code><span class="sig-paren">(</span><em class="sig-param">fonts: List[str], value: str, format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#pfont"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.pfont" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Wrap string in font code.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param format</dt>
<dd class="field-odd"><p>PrintFont or LaTeXFont</p>
</dd>
<dt class="field-even">param fonts</dt>
<dd class="field-even"><p>list of font names, eg. [‘red’, ‘bold’]</p>
</dd>
<dt class="field-odd">param value</dt>
<dd class="field-odd"><p>string to wrap in font</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.utils.pkl2json">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">pkl2json</code><span class="sig-paren">(</span><em class="sig-param">pkl_file</em>, <em class="sig-param">savedir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#pkl2json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.pkl2json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.utils.read_jl">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">read_jl</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#read_jl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.read_jl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.utils.suffixate">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">suffixate</code><span class="sig-paren">(</span><em class="sig-param">s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#suffixate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.suffixate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="source.utils.tuple_list">
<code class="sig-prename descclassname">source.utils.</code><code class="sig-name descname">tuple_list</code><span class="sig-paren">(</span><em class="sig-param">arg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/utils.html#tuple_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.utils.tuple_list" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>List[Tuple[str]] argument type.</dt><dd><p>format: whitespace separated str lists, separated by <a href="#id5"><span class="problematic" id="id6">|</span></a>. eg. ‘embs1 embs2 | embs2 embs3 embs4’</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-source.vecs2nps">
<span id="source-vecs2nps-module"></span><h2>source.vecs2nps module<a class="headerlink" href="#module-source.vecs2nps" title="Permalink to this headline">¶</a></h2>
<p>Script to create <cite>vecs.npy</cite> and <cite>vecs.vocab</cite> from files with the following format:
&lt;row_num&gt; &lt;dim&gt;
&lt;word_1&gt; &lt;vector_1&gt;
…
&lt;word_n&gt; &lt;vector_n&gt;</p>
<dl class="function">
<dt id="source.vecs2nps.main">
<code class="sig-prename descclassname">source.vecs2nps.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">input_file</em>, <em class="sig-param">output_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/vecs2nps.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.vecs2nps.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-source.visualise">
<span id="source-visualise-module"></span><h2>source.visualise module<a class="headerlink" href="#module-source.visualise" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="source.visualise.tensorboard_emb">
<code class="sig-prename descclassname">source.visualise.</code><code class="sig-name descname">tensorboard_emb</code><span class="sig-paren">(</span><em class="sig-param">data_dir</em>, <em class="sig-param">model_name</em>, <em class="sig-param">output_path</em>, <em class="sig-param">tn_label='wn_clusters'</em>, <em class="sig-param">label_name='clusters'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/visualise.html#tensorboard_emb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.visualise.tensorboard_emb" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualise embeddings using TensorBoard.
Code from: <a class="reference external" href="https://gist.github.com/BrikerMan/7bd4e4bd0a00ac9076986148afc06507">https://gist.github.com/BrikerMan/7bd4e4bd0a00ac9076986148afc06507</a>
:param model_name: name of numpy array files: embedding (.npy) and vocab (.vocab)
:param output_path: str, directory
:param tn_label: label dictionary file path or options: {“wn_clusters”, “None”}
:param label_name: str, title for the labeling (e.g.: Cluster)</p>
<dl class="simple">
<dt>Usage on remote server with port forwarding:</dt><dd><ul class="simple">
<li><p>when you ssh into the machine, you use the option -L to transfer the port 6006 of the remote server
into the port 16006 of my machine (for instance):</p></li>
<li><p>ssh -L 16006:127.0.0.1:6006 <a class="reference external" href="mailto:alv34&#37;&#52;&#48;yellowhammer">alv34<span>&#64;</span>yellowhammer</a>
What it does is that everything on the port 6006 of the server (in 127.0.0.1:6006) will be forwarded 
to my machine on the port 16006.</p></li>
<li><p>You can then launch tensorboard on the remote machine using a standard tensorboard –logdir log with
the default 6006 port</p></li>
<li><p>On your local machine, go to <a class="reference external" href="http://127.0.0.1:16006">http://127.0.0.1:16006</a> and enjoy your remote TensorBoard.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-source.visutils">
<span id="source-visutils-module"></span><h2>source.visutils module<a class="headerlink" href="#module-source.visutils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="source.visutils.crop_bbox">
<code class="sig-prename descclassname">source.visutils.</code><code class="sig-name descname">crop_bbox</code><span class="sig-paren">(</span><em class="sig-param">image</em>, <em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">w</em>, <em class="sig-param">h</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/visutils.html#crop_bbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.visutils.crop_bbox" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Crops out a bounding box from image.</dt><dd><dl class="field-list simple">
<dt class="field-odd">param image</dt>
<dd class="field-odd"><p>PIL Image</p>
</dd>
<dt class="field-even">param x, y, w, h</dt>
<dd class="field-even"><p>left, upper, right, lower coordinates</p>
</dd>
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>PIL Image</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="source.visutils.save_crop">
<code class="sig-prename descclassname">source.visutils.</code><code class="sig-name descname">save_crop</code><span class="sig-paren">(</span><em class="sig-param">image</em>, <em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">w</em>, <em class="sig-param">h</em>, <em class="sig-param">fname</em>, <em class="sig-param">savedir</em>, <em class="sig-param">skip_existing=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/source/visutils.html#save_crop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#source.visutils.save_crop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="EmbEval Modules Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="test.html" class="btn btn-neutral float-right" title="test package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Anita Lilla Verő.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>